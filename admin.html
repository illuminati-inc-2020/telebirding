<html>
	<head>
		<title>Telebirding Admin</title>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"> 
		
		<link rel="icon" type="image/png" href="icons/favicon-48x48.png">
		<link rel="shortcut icon" type="image/x-icon" href="icons/favicon-16x16.png">
		<link rel="apple-touch-icon" href="icons/favicon-64x64.png">
		
		<link rel="stylesheet" charset="UTF-8" href="css/animations.css">
		<link rel="stylesheet" charset="UTF-8" href="css/admin.css">
		
		<script type="text/javascript" charset="UTF-8" src="scripts/jquery.min.js"></script>
		<script type="text/javascript" charset="UTF-8" src="scripts/moment.js"></script>

		<script type="text/javascript" charset="UTF-8" src="scripts/util.js"></script>
		<script type="text/javascript" charset="UTF-8" src="scripts/admin.js"></script>

		<script src="https://www.gstatic.com/firebasejs/5.0.1/firebase.js"></script>
		<script src="/__/firebase/5.0.1/firebase-app.js"></script>
		<script src="/__/firebase/5.0.1/firebase-storage.js"></script>
		<script src="/__/firebase/5.0.1/firebase-auth.js"></script>
		<script>
		  	var config = {
				apiKey: "AIzaSyApVjVcNDeMkA-oz-tYa46Lm-Ja7qCCVjQ",
				authDomain: "telebirding-49623.firebaseapp.com",
				projectId: "telebirding-49623",
				storageBucket: "telebirding-49623.appspot.com",
				messagingSenderId: "660434055884",
				appId: "1:660434055884:web:43dd0ca8c46f8280250869",
				measurementId: "G-MRPL6NX33K"
			};
		  	firebase.initializeApp(config);

			function tryLogin() {
				var password = getCookie("credentials") || prompt("Please enter the password.");
				firebase.auth().signInWithEmailAndPassword("rakeshmalik91@gmail.com", password).then(() => {
					$('.data').show();
					setCookie("credentials", password, 30);
				}).catch(e => {
					alert(e.message);
					tryLogin();
				});
			}
			tryLogin();
		</script>

	</head>
	<body>
		<div class='data' style='display: none;'>
			<a href="/">
				<img class="logo" src="icons/site-logo.png" alt="Telebirding - Rakesh's Bird Catalogue" title="Telebirding - Rakesh's Bird Catalogue" />
			</a>
			<h1>Admin</h1>

			<br>
			<h2>Add Family</h2>
			<table id="add-family-form">
				<tr>
					<th>Name</th>
					<th class='noborder'></th>
				</tr>
				<tr>
					<td><input type='text' data-field='name' placeholder="Enter name" /></td>
					<td class='noborder'><button class='submit'>Add</button></td>
				</tr>
			</table>

			<br>
			<h2>Add/Modify Species</h2>
			<table id="update-species-form">
				<tr>
					<th>ID</th>
					<th>Name</th>
					<th>Tags</th>
					<th>Family</th>
					<th class='noborder'></th>
				</tr>
				<tr>
					<td><select data-field='key' style="width: 200px;"/></td>
					<td><input type='text' data-field='name' placeholder="Enter name" /></td>
					<td><input type='text' data-field='tags' placeholder="Tag1, Tag2, ..."  style="width: 300px;"/></td>
					<td><select data-field='family' style="width: 200px;"/></td>
					<td class='noborder'><button class='submit'>Add</button></td>
				</tr>
			</table>

			<br>
			<h2>Add/Modify Sightings</h2>
			<div class='nav-top'>
				<button class='add-sighting' title='Add new sighting'>Add New</button>
				<button class='first-page' title='First page'><<</button>
				<button class='previous' title='Previous page'><</button>
				<span class='page-number'></span>
				<button class='next' title='Next page'>></button>
				<button class='last-page' title='Last page'>>></button>
				<input type="text" name="filter-sighting", placeholder="Filter">
			</div>
			<table id="sightings-table"></table>
			<div class='nav-bottom'>
				<button class='first-page' title='First page'><<</button>
				<button class='previous' title='Previous page'><</button>
				<span class='page-number'></span>
				<button class='next' title='Next page'>></button>
				<button class='last-page' title='Last page'>>></button>
			</div>

			<div class="overlay fadein" style="display:none;">
				<span>Please wait...</span>
			</div>
		</div>
	</body>
</html>